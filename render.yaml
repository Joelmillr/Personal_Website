services:
  - type: web
    name: personal-website
    env: node
    buildCommand: npm install && npm run preprocess
    startCommand: node --max-old-space-size=512 server.js
    envVars:
      # ============================================
      # SERVER CONFIGURATION (Auto-set by Render)
      # ============================================
      - key: NODE_ENV
        value: production
      # PORT is automatically set by Render - don't override
      
      # ============================================
      # WEBDISPLAY CONFIGURATION
      # ============================================
      # REQUIRED: Set these in Render dashboard after first deployment
      - key: YOUTUBE_VIDEO_ID
        sync: false  # REQUIRED: Your YouTube video ID (e.g., 6CBOZGQqOI0)
      - key: YOUTUBE_START_OFFSET
        value: 0.0  # Time offset in seconds (adjust if needed)
      - key: WS_URL
        sync: false  # REQUIRED: Your Render app URL (e.g., https://personal-website.onrender.com)
      - key: DOWNSAMPLE_FACTOR
        value: 20  # Memory optimization: higher = less memory (default: 20, increase to 30-50 if needed)

